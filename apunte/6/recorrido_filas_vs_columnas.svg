<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <!-- Título -->
  <text x="450" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle">
    Recorrido por Filas vs. Columnas - Impacto en Caché
  </text>
  
  <!-- Recorrido por FILAS (Eficiente) -->
  <g id="recorrido-filas">
    <text x="200" y="70" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2E7D32">
      ✓ Recorrido por Filas (Cache-Friendly)
    </text>
    
    <!-- Matriz -->
    <g transform="translate(50, 90)">
      <!-- Fila 0 -->
      <rect x="0" y="0" width="50" height="40" fill="#66BB6A" stroke="#2E7D32" stroke-width="2"/>
      <text x="25" y="25" font-family="monospace" font-size="12" text-anchor="middle">0,0</text>
      <rect x="60" y="0" width="50" height="40" fill="#66BB6A" stroke="#2E7D32" stroke-width="2"/>
      <text x="85" y="25" font-family="monospace" font-size="12" text-anchor="middle">0,1</text>
      <rect x="120" y="0" width="50" height="40" fill="#66BB6A" stroke="#2E7D32" stroke-width="2"/>
      <text x="145" y="25" font-family="monospace" font-size="12" text-anchor="middle">0,2</text>
      <rect x="180" y="0" width="50" height="40" fill="#66BB6A" stroke="#2E7D32" stroke-width="2"/>
      <text x="205" y="25" font-family="monospace" font-size="12" text-anchor="middle">0,3</text>
      
      <!-- Flechas de recorrido fila 0 -->
      <path d="M 50 20 L 58 20" stroke="#1B5E20" stroke-width="3" marker-end="url(#arrow-green)"/>
      <path d="M 110 20 L 118 20" stroke="#1B5E20" stroke-width="3" marker-end="url(#arrow-green)"/>
      <path d="M 170 20 L 178 20" stroke="#1B5E20" stroke-width="3" marker-end="url(#arrow-green)"/>
      
      <!-- Fila 1 -->
      <rect x="0" y="50" width="50" height="40" fill="#81C784" stroke="#2E7D32" stroke-width="2"/>
      <text x="25" y="75" font-family="monospace" font-size="12" text-anchor="middle">1,0</text>
      <rect x="60" y="50" width="50" height="40" fill="#81C784" stroke="#2E7D32" stroke-width="2"/>
      <text x="85" y="75" font-family="monospace" font-size="12" text-anchor="middle">1,1</text>
      <rect x="120" y="50" width="50" height="40" fill="#81C784" stroke="#2E7D32" stroke-width="2"/>
      <text x="145" y="75" font-family="monospace" font-size="12" text-anchor="middle">1,2</text>
      <rect x="180" y="50" width="50" height="40" fill="#81C784" stroke="#2E7D32" stroke-width="2"/>
      <text x="205" y="75" font-family="monospace" font-size="12" text-anchor="middle">1,3</text>
      
      <!-- Flecha de salto entre filas -->
      <path d="M 230 20 Q 250 45 25 50" stroke="#1B5E20" stroke-width="2" fill="none" stroke-dasharray="4,2" marker-end="url(#arrow-green)"/>
      
      <!-- Fila 2 -->
      <rect x="0" y="100" width="50" height="40" fill="#A5D6A7" stroke="#2E7D32" stroke-width="2"/>
      <text x="25" y="125" font-family="monospace" font-size="12" text-anchor="middle">2,0</text>
      <rect x="60" y="100" width="50" height="40" fill="#A5D6A7" stroke="#2E7D32" stroke-width="2"/>
      <text x="85" y="125" font-family="monospace" font-size="12" text-anchor="middle">2,1</text>
      <rect x="120" y="100" width="50" height="40" fill="#A5D6A7" stroke="#2E7D32" stroke-width="2"/>
      <text x="145" y="125" font-family="monospace" font-size="12" text-anchor="middle">2,2</text>
      <rect x="180" y="100" width="50" height="40" fill="#A5D6A7" stroke="#2E7D32" stroke-width="2"/>
      <text x="205" y="125" font-family="monospace" font-size="12" text-anchor="middle">2,3</text>
    </g>
    
    <!-- Código -->
    <rect x="50" y="260" width="300" height="110" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2" rx="5"/>
    <text x="60" y="285" font-family="monospace" font-size="12">
      for (i = 0; i &lt; FILAS; i++) {
    </text>
    <text x="75" y="305" font-family="monospace" font-size="12">
      for (j = 0; j &lt; COLS; j++) {
    </text>
    <text x="90" y="325" font-family="monospace" font-size="12">
      suma += matriz[i][j];
    </text>
    <text x="75" y="345" font-family="monospace" font-size="12">
      }
    </text>
    <text x="60" y="360" font-family="monospace" font-size="12">
      }
    </text>
    
    <!-- Ventajas -->
    <text x="50" y="400" font-family="Arial, sans-serif" font-size="13" fill="#2E7D32" font-weight="bold">
      ✓ Acceso secuencial en memoria
    </text>
    <text x="50" y="420" font-family="Arial, sans-serif" font-size="13" fill="#2E7D32" font-weight="bold">
      ✓ Máximos aciertos de caché
    </text>
    <text x="50" y="440" font-family="Arial, sans-serif" font-size="13" fill="#2E7D32" font-weight="bold">
      ✓ Alto rendimiento
    </text>
  </g>
  
  <!-- Recorrido por COLUMNAS (Ineficiente) -->
  <g id="recorrido-columnas">
    <text x="650" y="70" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#C62828">
      ✗ Recorrido por Columnas (Cache-Unfriendly)
    </text>
    
    <!-- Matriz -->
    <g transform="translate(500, 90)">
      <!-- Fila 0 -->
      <rect x="0" y="0" width="50" height="40" fill="#EF5350" stroke="#C62828" stroke-width="2"/>
      <text x="25" y="25" font-family="monospace" font-size="12" text-anchor="middle">0,0</text>
      <rect x="60" y="0" width="50" height="40" fill="#E57373" stroke="#C62828" stroke-width="2"/>
      <text x="85" y="25" font-family="monospace" font-size="12" text-anchor="middle">0,1</text>
      <rect x="120" y="0" width="50" height="40" fill="#EF9A9A" stroke="#C62828" stroke-width="2"/>
      <text x="145" y="25" font-family="monospace" font-size="12" text-anchor="middle">0,2</text>
      <rect x="180" y="0" width="50" height="40" fill="#FFCDD2" stroke="#C62828" stroke-width="2"/>
      <text x="205" y="25" font-family="monospace" font-size="12" text-anchor="middle">0,3</text>
      
      <!-- Flecha columna 0 -->
      <path d="M 25 40 L 25 48" stroke="#B71C1C" stroke-width="3" marker-end="url(#arrow-red)"/>
      
      <!-- Fila 1 -->
      <rect x="0" y="50" width="50" height="40" fill="#EF5350" stroke="#C62828" stroke-width="2"/>
      <text x="25" y="75" font-family="monospace" font-size="12" text-anchor="middle">1,0</text>
      <rect x="60" y="50" width="50" height="40" fill="#E57373" stroke="#C62828" stroke-width="2"/>
      <text x="85" y="75" font-family="monospace" font-size="12" text-anchor="middle">1,1</text>
      <rect x="120" y="50" width="50" height="40" fill="#EF9A9A" stroke="#C62828" stroke-width="2"/>
      <text x="145" y="75" font-family="monospace" font-size="12" text-anchor="middle">1,2</text>
      <rect x="180" y="50" width="50" height="40" fill="#FFCDD2" stroke="#C62828" stroke-width="2"/>
      <text x="205" y="75" font-family="monospace" font-size="12" text-anchor="middle">1,3</text>
      
      <path d="M 25 90 L 25 98" stroke="#B71C1C" stroke-width="3" marker-end="url(#arrow-red)"/>
      
      <!-- Fila 2 -->
      <rect x="0" y="100" width="50" height="40" fill="#EF5350" stroke="#C62828" stroke-width="2"/>
      <text x="25" y="125" font-family="monospace" font-size="12" text-anchor="middle">2,0</text>
      <rect x="60" y="100" width="50" height="40" fill="#E57373" stroke="#C62828" stroke-width="2"/>
      <text x="85" y="125" font-family="monospace" font-size="12" text-anchor="middle">2,1</text>
      <rect x="120" y="100" width="50" height="40" fill="#EF9A9A" stroke="#C62828" stroke-width="2"/>
      <text x="145" y="125" font-family="monospace" font-size="12" text-anchor="middle">2,2</text>
      <rect x="180" y="100" width="50" height="40" fill="#FFCDD2" stroke="#C62828" stroke-width="2"/>
      <text x="205" y="125" font-family="monospace" font-size="12" text-anchor="middle">2,3</text>
      
      <!-- Flecha de salto entre columnas -->
      <path d="M 25 140 Q 43 160 85 0" stroke="#B71C1C" stroke-width="2" fill="none" stroke-dasharray="4,2" marker-end="url(#arrow-red)"/>
    </g>
    
    <!-- Código -->
    <rect x="500" y="260" width="300" height="110" fill="#FFEBEE" stroke="#C62828" stroke-width="2" rx="5"/>
    <text x="510" y="285" font-family="monospace" font-size="12">
      for (j = 0; j &lt; COLS; j++) {
    </text>
    <text x="525" y="305" font-family="monospace" font-size="12">
      for (i = 0; i &lt; FILAS; i++) {
    </text>
    <text x="540" y="325" font-family="monospace" font-size="12">
      suma += matriz[i][j];
    </text>
    <text x="525" y="345" font-family="monospace" font-size="12">
      }
    </text>
    <text x="510" y="360" font-family="monospace" font-size="12">
      }
    </text>
    
    <!-- Desventajas -->
    <text x="500" y="400" font-family="Arial, sans-serif" font-size="13" fill="#C62828" font-weight="bold">
      ✗ Acceso no contiguo
    </text>
    <text x="500" y="420" font-family="Arial, sans-serif" font-size="13" fill="#C62828" font-weight="bold">
      ✗ Muchos fallos de caché
    </text>
    <text x="500" y="440" font-family="Arial, sans-serif" font-size="13" fill="#C62828" font-weight="bold">
      ✗ Rendimiento reducido
    </text>
  </g>
  
  <!-- Definición de marcadores de flechas -->
  <defs>
    <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#1B5E20"/>
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#B71C1C"/>
    </marker>
  </defs>
</svg>
