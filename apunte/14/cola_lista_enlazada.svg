<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="650" height="400" viewBox="0 0 650 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .node { fill: #fff; stroke: #333; stroke-width: 2; }
      .node-data { fill: #c8e6c9; }
      .node-ptr { fill: #ffccbc; }
      .null-ptr { fill: #e0e0e0; }
      .arrow { fill: none; stroke: #2e7d32; stroke-width: 2; marker-end: url(#arrowhead); }
      .label { font-family: Arial, sans-serif; font-size: 12px; fill: #333; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #2e7d32; }
      .code { font-family: monospace; font-size: 11px; fill: #666; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2e7d32"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="325" y="25" text-anchor="middle" class="title">Implementación de Cola con Lista Enlazada</text>
  
  <!-- Queue structure pointer -->
  <rect x="50" y="60" width="120" height="75" class="node"/>
  <text x="110" y="75" text-anchor="middle" class="label" font-weight="bold">cola_t</text>
  <line x1="50" y1="90" x2="170" y2="90" stroke="#333" stroke-width="1"/>
  
  <text x="70" y="105" class="label" font-size="10">frente:</text>
  <rect x="115" y="95" width="45" height="15" class="node-ptr"/>
  
  <text x="70" y="120" class="label" font-size="10">final:</text>
  <rect x="115" y="110" width="45" height="15" class="node-ptr"/>
  
  <text x="70" y="135" class="label" font-size="10">tamanio:</text>
  <text x="140" y="135" text-anchor="middle" class="label">4</text>
  
  <!-- Arrow from frente to first node -->
  <path d="M 160,102 L 220,85" class="arrow"/>
  <text x="185" y="88" class="label" font-size="10" fill="#2e7d32">frente</text>
  
  <!-- Arrow from final to last node -->
  <path d="M 160,117 L 220,255" class="arrow"/>
  <text x="185" y="200" class="label" font-size="10" fill="#2e7d32">final</text>
  
  <!-- Node 1 (front) -->
  <g id="node1">
    <rect x="230" y="50" width="100" height="65" class="node"/>
    <text x="280" y="65" text-anchor="middle" class="label" font-weight="bold">Nodo</text>
    <line x1="230" y1="75" x2="330" y2="75" stroke="#333" stroke-width="1"/>
    
    <text x="245" y="90" class="label" font-size="10">dato:</text>
    <rect x="280" y="80" width="40" height="15" class="node-data"/>
    <text x="300" y="91" text-anchor="middle" class="label">15</text>
    
    <text x="245" y="107" class="label" font-size="10">sig:</text>
    <rect x="280" y="100" width="40" height="15" class="node-ptr"/>
  </g>
  
  <!-- Arrow to node 2 -->
  <path d="M 320,107 L 380,107" class="arrow"/>
  
  <!-- Node 2 -->
  <g id="node2">
    <rect x="390" y="50" width="100" height="65" class="node"/>
    <text x="440" y="65" text-anchor="middle" class="label" font-weight="bold">Nodo</text>
    <line x1="390" y1="75" x2="490" y2="75" stroke="#333" stroke-width="1"/>
    
    <text x="405" y="90" class="label" font-size="10">dato:</text>
    <rect x="440" y="80" width="40" height="15" class="node-data"/>
    <text x="460" y="91" text-anchor="middle" class="label">27</text>
    
    <text x="405" y="107" class="label" font-size="10">sig:</text>
    <rect x="440" y="100" width="40" height="15" class="node-ptr"/>
  </g>
  
  <!-- Arrow to node 3 -->
  <path d="M 460,115 L 460,150 L 280,150 L 280,180" class="arrow"/>
  
  <!-- Node 3 -->
  <g id="node3">
    <rect x="230" y="190" width="100" height="65" class="node"/>
    <text x="280" y="205" text-anchor="middle" class="label" font-weight="bold">Nodo</text>
    <line x1="230" y1="215" x2="330" y2="215" stroke="#333" stroke-width="1"/>
    
    <text x="245" y="230" class="label" font-size="10">dato:</text>
    <rect x="280" y="220" width="40" height="15" class="node-data"/>
    <text x="300" y="231" text-anchor="middle" class="label">41</text>
    
    <text x="245" y="247" class="label" font-size="10">sig:</text>
    <rect x="280" y="240" width="40" height="15" class="node-ptr"/>
  </g>
  
  <!-- Arrow to node 4 -->
  <path d="M 320,247 L 380,247" class="arrow"/>
  
  <!-- Node 4 (rear) -->
  <g id="node4">
    <rect x="390" y="190" width="100" height="65" class="node"/>
    <text x="440" y="205" text-anchor="middle" class="label" font-weight="bold">Nodo</text>
    <line x1="390" y1="215" x2="490" y2="215" stroke="#333" stroke-width="1"/>
    
    <text x="405" y="230" class="label" font-size="10">dato:</text>
    <rect x="440" y="220" width="40" height="15" class="node-data"/>
    <text x="460" y="231" text-anchor="middle" class="label">56</text>
    
    <text x="405" y="247" class="label" font-size="10">sig:</text>
    <rect x="440" y="240" width="40" height="15" class="null-ptr"/>
    <text x="460" y="251" text-anchor="middle" class="label" font-size="10">NULL</text>
  </g>
  
  <!-- Labels -->
  <text x="540" y="85" text-anchor="start" class="label" fill="#2e7d32" font-weight="bold">← FRENTE</text>
  <text x="540" y="100" text-anchor="start" class="label" fill="#666" font-size="10">(dequeue aquí)</text>
  
  <text x="540" y="225" text-anchor="start" class="label" fill="#2e7d32" font-weight="bold">← FINAL</text>
  <text x="540" y="240" text-anchor="start" class="label" fill="#666" font-size="10">(enqueue aquí)</text>
  
  <!-- Code example -->
  <rect x="30" y="290" width="590" height="95" fill="#f5f5f5" stroke="#999" stroke-width="1" rx="3"/>
  <text x="40" y="310" class="code">// Operación enqueue(73):</text>
  <text x="40" y="325" class="code">nuevo_nodo->dato = 73;</text>
  <text x="40" y="340" class="code">nuevo_nodo->siguiente = NULL;         // Será el último</text>
  <text x="40" y="355" class="code">cola->final->siguiente = nuevo_nodo;  // El antiguo final apunta al nuevo</text>
  <text x="40" y="370" class="code">cola->final = nuevo_nodo;             // El nuevo nodo es el nuevo final</text>
</svg>
