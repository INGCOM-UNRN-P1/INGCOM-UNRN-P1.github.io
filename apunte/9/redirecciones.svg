<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <style>
      .program { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
      .file { fill: #fff9c4; stroke: #fbc02d; stroke-width: 2; }
      .screen { fill: #e8f5e9; stroke: #43a047; stroke-width: 2; }
      .stream { stroke-width: 2.5; fill: none; marker-end: url(#arrowhead); }
      .stdin { stroke: #4caf50; }
      .stdout { stroke: #2196f3; }
      .stderr { stroke: #f44336; }
      .text { font-family: 'Consolas', 'Monaco', monospace; font-size: 13px; fill: #212121; }
      .label { font-family: 'Consolas', 'Monaco', monospace; font-size: 12px; font-weight: bold; }
      .title { font-family: 'Consolas', 'Monaco', monospace; font-size: 15px; fill: #1976d2; font-weight: bold; }
      .command { font-family: 'Consolas', 'Monaco', monospace; font-size: 11px; fill: #424242; }
      .shell-bg { fill: #263238; }
      .shell-text { font-family: 'Consolas', 'Monaco', monospace; font-size: 12px; fill: #aed581; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#424242" />
    </marker>
  </defs>
  
  <!-- Título -->
  <text x="450" y="25" text-anchor="middle" class="title">Redirecciones en el Shell</text>
  
  <!-- Escenario 1: Redirección de stdout -->
  <text x="50" y="60" class="title" font-size="13">1. Redirección de salida: > archivo</text>
  <rect x="45" y="70" width="360" height="25" class="shell-bg" rx="3" />
  <text x="55" y="87" class="shell-text">$ ./programa > salida.txt</text>
  
  <rect x="80" y="115" width="100" height="50" class="program" rx="5" />
  <text x="130" y="143" text-anchor="middle" class="text">programa</text>
  
  <rect x="260" y="115" width="100" height="50" class="file" rx="5" />
  <text x="310" y="138" text-anchor="middle" class="label">salida.txt</text>
  <text x="310" y="153" text-anchor="middle" class="text" font-size="10">(archivo)</text>
  
  <path d="M 180 135 L 260 135" class="stream stdout" />
  <text x="210" y="130" class="label stdout" font-size="11">stdout</text>
  
  <!-- Escenario 2: Redirección de stderr -->
  <text x="480" y="60" class="title" font-size="13">2. Redirección de errores: 2> errores</text>
  <rect x="475" y="70" width="380" height="25" class="shell-bg" rx="3" />
  <text x="485" y="87" class="shell-text">$ ./programa 2> errores.txt</text>
  
  <rect x="510" y="115" width="100" height="50" class="program" rx="5" />
  <text x="560" y="143" text-anchor="middle" class="text">programa</text>
  
  <rect x="690" y="115" width="110" height="50" class="file" rx="5" />
  <text x="745" y="138" text-anchor="middle" class="label">errores.txt</text>
  <text x="745" y="153" text-anchor="middle" class="text" font-size="10">(archivo)</text>
  
  <path d="M 610 145 L 690 145" class="stream stderr" />
  <text x="640" y="140" class="label stderr" font-size="11">stderr</text>
  
  <!-- Escenario 3: Redirección de entrada -->
  <text x="50" y="210" class="title" font-size="13">3. Redirección de entrada: < archivo</text>
  <rect x="45" y="220" width="360" height="25" class="shell-bg" rx="3" />
  <text x="55" y="237" class="shell-text">$ ./programa < datos.txt</text>
  
  <rect x="80" y="265" width="100" height="50" class="file" rx="5" />
  <text x="130" y="288" text-anchor="middle" class="label">datos.txt</text>
  <text x="130" y="303" text-anchor="middle" class="text" font-size="10">(entrada)</text>
  
  <rect x="260" y="265" width="100" height="50" class="program" rx="5" />
  <text x="310" y="293" text-anchor="middle" class="text">programa</text>
  
  <path d="M 180 290 L 260 290" class="stream stdin" />
  <text x="210" y="285" class="label stdin" font-size="11">stdin</text>
  
  <!-- Escenario 4: Ambas redirecciones -->
  <text x="480" y="210" class="title" font-size="13">4. Entrada y salida: < in > out</text>
  <rect x="475" y="220" width="400" height="25" class="shell-bg" rx="3" />
  <text x="485" y="237" class="shell-text">$ ./programa < datos.txt > resultado.txt</text>
  
  <rect x="490" y="265" width="90" height="50" class="file" rx="5" />
  <text x="535" y="285" text-anchor="middle" class="label" font-size="11">datos.txt</text>
  <text x="535" y="300" text-anchor="middle" class="text" font-size="9">(in)</text>
  
  <rect x="625" y="265" width="90" height="50" class="program" rx="5" />
  <text x="670" y="293" text-anchor="middle" class="text" font-size="12">prog</text>
  
  <rect x="760" y="265" width="95" height="50" class="file" rx="5" />
  <text x="807" y="285" text-anchor="middle" class="label" font-size="11">resultado</text>
  <text x="807" y="300" text-anchor="middle" class="text" font-size="9">(out)</text>
  
  <path d="M 580 285 L 625 285" class="stream stdin" />
  <text x="597" y="280" class="label stdin" font-size="10">stdin</text>
  
  <path d="M 715 290 L 760 290" class="stream stdout" />
  <text x="730" y="285" class="label stdout" font-size="10">stdout</text>
  
  <!-- Escenario 5: Redirigir todo -->
  <text x="50" y="360" class="title" font-size="13">5. Ambos flujos al mismo archivo: > todo 2>&1</text>
  <rect x="45" y="370" width="430" height="25" class="shell-bg" rx="3" />
  <text x="55" y="387" class="shell-text">$ ./programa > todo.txt 2>&1</text>
  
  <rect x="100" y="415" width="100" height="60" class="program" rx="5" />
  <text x="150" y="448" text-anchor="middle" class="text">programa</text>
  
  <rect x="310" y="425" width="100" height="50" class="file" rx="5" />
  <text x="360" y="448" text-anchor="middle" class="label">todo.txt</text>
  <text x="360" y="463" text-anchor="middle" class="text" font-size="10">(ambos)</text>
  
  <path d="M 200 435 Q 250 430 310 445" class="stream stdout" />
  <text x="240" y="425" class="label stdout" font-size="11">stdout</text>
  
  <path d="M 200 455 Q 250 460 310 450" class="stream stderr" />
  <text x="240" y="470" class="label stderr" font-size="11">stderr</text>
  
  <!-- Escenario 6: Append -->
  <text x="520" y="360" class="title" font-size="13">6. Agregar al final: >> archivo</text>
  <rect x="515" y="370" width="350" height="25" class="shell-bg" rx="3" />
  <text x="525" y="387" class="shell-text">$ ./programa >> log.txt</text>
  
  <rect x="550" y="415" width="90" height="60" class="program" rx="5" />
  <text x="595" y="448" text-anchor="middle" class="text">programa</text>
  
  <rect x="720" y="425" width="90" height="50" class="file" rx="5" />
  <text x="765" y="445" text-anchor="middle" class="label">log.txt</text>
  <text x="765" y="460" text-anchor="middle" class="text" font-size="9">(append)</text>
  
  <path d="M 640 445 L 720 445" class="stream stdout" />
  <text x="670" y="440" class="label stdout" font-size="11">stdout</text>
  
  <!-- Nota informativa -->
  <rect x="50" y="520" width="800" height="65" fill="#fff3e0" stroke="#ff6f00" stroke-width="1" rx="5" />
  <text x="70" y="540" class="text" font-weight="bold" fill="#e65100">Nota importante:</text>
  <text x="70" y="560" class="text" font-size="11">El programa NO necesita modificarse para usar redirecciones. El shell se encarga</text>
  <text x="70" y="575" class="text" font-size="11">de conectar stdin/stdout/stderr a los archivos. Simplemente usá printf(), scanf(), etc.</text>
</svg>
