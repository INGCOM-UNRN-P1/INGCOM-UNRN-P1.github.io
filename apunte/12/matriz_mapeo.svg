<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450" width="800" height="450">
  <defs>
    <style>
      .title { font: bold 16px sans-serif; fill: #2c3e50; }
      .label { font: 14px sans-serif; fill: #34495e; }
      .sublabel { font: 12px sans-serif; fill: #7f8c8d; }
      .index { font: 11px monospace; fill: #495057; }
      .cell { fill: #e8f5e9; stroke: #66bb6a; stroke-width: 2; }
      .cell-highlight { fill: #ffeb3b; stroke: #fbc02d; stroke-width: 2; }
      .arrow { stroke: #6c757d; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .grid-line { stroke: #dee2e6; stroke-width: 1; stroke-dasharray: 2,2; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#6c757d"/>
    </marker>
  </defs>
  
  <!-- Título -->
  <text x="400" y="30" class="title" text-anchor="middle">Mapeo: Matriz Lógica ↔ Memoria Lineal</text>
  
  <!-- Sección: Matriz Lógica 3x4 -->
  <g id="matriz-logica">
    <text x="150" y="70" class="label" text-anchor="middle">Matriz Lógica 3×4</text>
    
    <!-- Fila 0 -->
    <rect x="50" y="90" width="50" height="40" class="cell"/>
    <text x="75" y="115" class="index" text-anchor="middle">(0,0)</text>
    
    <rect x="105" y="90" width="50" height="40" class="cell"/>
    <text x="130" y="115" class="index" text-anchor="middle">(0,1)</text>
    
    <rect x="160" y="90" width="50" height="40" class="cell"/>
    <text x="185" y="115" class="index" text-anchor="middle">(0,2)</text>
    
    <rect x="215" y="90" width="50" height="40" class="cell"/>
    <text x="240" y="115" class="index" text-anchor="middle">(0,3)</text>
    
    <!-- Fila 1 -->
    <rect x="50" y="135" width="50" height="40" class="cell"/>
    <text x="75" y="160" class="index" text-anchor="middle">(1,0)</text>
    
    <rect x="105" y="135" width="50" height="40" class="cell"/>
    <text x="130" y="160" class="index" text-anchor="middle">(1,1)</text>
    
    <rect x="160" y="135" width="50" height="40" class="cell-highlight"/>
    <text x="185" y="160" class="index" text-anchor="middle">(1,2)</text>
    
    <rect x="215" y="135" width="50" height="40" class="cell"/>
    <text x="240" y="160" class="index" text-anchor="middle">(1,3)</text>
    
    <!-- Fila 2 -->
    <rect x="50" y="180" width="50" height="40" class="cell"/>
    <text x="75" y="205" class="index" text-anchor="middle">(2,0)</text>
    
    <rect x="105" y="180" width="50" height="40" class="cell"/>
    <text x="130" y="205" class="index" text-anchor="middle">(2,1)</text>
    
    <rect x="160" y="180" width="50" height="40" class="cell"/>
    <text x="185" y="205" class="index" text-anchor="middle">(2,2)</text>
    
    <rect x="215" y="180" width="50" height="40" class="cell"/>
    <text x="240" y="205" class="index" text-anchor="middle">(2,3)</text>
  </g>
  
  <!-- Flecha de mapeo -->
  <g id="mapping-arrow">
    <path d="M 150 235 L 150 270 L 400 270 L 400 300" class="arrow" stroke-width="3"/>
    <text x="270" y="265" class="label" fill="#0066cc">Mapeo a memoria lineal</text>
  </g>
  
  <!-- Sección: Memoria Lineal -->
  <g id="memoria-lineal">
    <text x="400" y="330" class="label" text-anchor="middle">Memoria Lineal (Array Contiguo)</text>
    
    <!-- Índices 0-11 -->
    <rect x="50" y="350" width="50" height="40" class="cell"/>
    <text x="75" y="365" class="sublabel" text-anchor="middle">0</text>
    <text x="75" y="382" class="index" text-anchor="middle">[0]</text>
    
    <rect x="105" y="350" width="50" height="40" class="cell"/>
    <text x="130" y="365" class="sublabel" text-anchor="middle">1</text>
    <text x="130" y="382" class="index" text-anchor="middle">[1]</text>
    
    <rect x="160" y="350" width="50" height="40" class="cell"/>
    <text x="185" y="365" class="sublabel" text-anchor="middle">2</text>
    <text x="185" y="382" class="index" text-anchor="middle">[2]</text>
    
    <rect x="215" y="350" width="50" height="40" class="cell"/>
    <text x="240" y="365" class="sublabel" text-anchor="middle">3</text>
    <text x="240" y="382" class="index" text-anchor="middle">[3]</text>
    
    <rect x="270" y="350" width="50" height="40" class="cell"/>
    <text x="295" y="365" class="sublabel" text-anchor="middle">4</text>
    <text x="295" y="382" class="index" text-anchor="middle">[4]</text>
    
    <rect x="325" y="350" width="50" height="40" class="cell"/>
    <text x="350" y="365" class="sublabel" text-anchor="middle">5</text>
    <text x="350" y="382" class="index" text-anchor="middle">[5]</text>
    
    <rect x="380" y="350" width="50" height="40" class="cell-highlight"/>
    <text x="405" y="365" class="sublabel" text-anchor="middle">6</text>
    <text x="405" y="382" class="index" text-anchor="middle">[6]</text>
    
    <rect x="435" y="350" width="50" height="40" class="cell"/>
    <text x="460" y="365" class="sublabel" text-anchor="middle">7</text>
    <text x="460" y="382" class="index" text-anchor="middle">[7]</text>
    
    <rect x="490" y="350" width="50" height="40" class="cell"/>
    <text x="515" y="365" class="sublabel" text-anchor="middle">8</text>
    <text x="515" y="382" class="index" text-anchor="middle">[8]</text>
    
    <rect x="545" y="350" width="50" height="40" class="cell"/>
    <text x="570" y="365" class="sublabel" text-anchor="middle">9</text>
    <text x="570" y="382" class="index" text-anchor="middle">[9]</text>
    
    <rect x="600" y="350" width="50" height="40" class="cell"/>
    <text x="625" y="365" class="sublabel" text-anchor="middle">10</text>
    <text x="625" y="382" class="index" text-anchor="middle">[10]</text>
    
    <rect x="655" y="350" width="50" height="40" class="cell"/>
    <text x="680" y="365" class="sublabel" text-anchor="middle">11</text>
    <text x="680" y="382" class="index" text-anchor="middle">[11]</text>
  </g>
  
  <!-- Separadores visuales para filas -->
  <line x1="265" y1="345" x2="265" y2="395" class="grid-line"/>
  <line x1="485" y1="345" x2="485" y2="395" class="grid-line"/>
  
  <text x="155" y="410" class="sublabel" text-anchor="middle">Fila 0 (índices 0-3)</text>
  <text x="375" y="410" class="sublabel" text-anchor="middle">Fila 1 (índices 4-7)</text>
  <text x="595" y="410" class="sublabel" text-anchor="middle">Fila 2 (índices 8-11)</text>
  
  <!-- Ejemplo destacado -->
  <g transform="translate(50, 420)">
    <rect x="0" y="0" width="700" height="25" fill="#fff3cd" stroke="#ffc107" stroke-width="1" rx="3"/>
    <text x="10" y="17" class="sublabel" fill="#856404">Ejemplo: Posición (1,2) en matriz lógica → índice 6 en memoria lineal (cálculo: 1×4 + 2 = 6)</text>
  </g>
</svg>
