<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <style>
      .title { font: bold 20px sans-serif; fill: #2c3e50; }
      .subtitle { font: bold 16px sans-serif; fill: #34495e; }
      .text { font: 14px sans-serif; fill: #2c3e50; }
      .small { font: 12px monospace; fill: #555; }
      .element { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .top-element { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .container { fill: none; stroke: #34495e; stroke-width: 3; }
      .arrow { stroke: #27ae60; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
      .label { font: 14px sans-serif; fill: #27ae60; font-weight: bold; }
      .operation { font: 13px monospace; fill: #2c3e50; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#27ae60" />
    </marker>
  </defs>
  
  <!-- Título -->
  <text x="450" y="30" text-anchor="middle" class="title">Pila (Stack) - Estructura LIFO</text>
  <text x="450" y="50" text-anchor="middle" class="small">(Last In, First Out - Último en Entrar, Primero en Salir)</text>
  
  <!-- Pila Principal (Centro) -->
  <g id="pila-principal">
    <text x="250" y="90" text-anchor="middle" class="subtitle">Estado Actual</text>
    
    <!-- Contenedor de la pila -->
    <rect x="150" y="110" width="200" height="320" class="container" rx="5"/>
    
    <!-- Elementos de la pila (de abajo hacia arriba) -->
    <rect x="160" y="390" width="180" height="35" class="element" rx="3"/>
    <text x="250" y="413" text-anchor="middle" class="text" fill="white" font-weight="bold">10</text>
    
    <rect x="160" y="350" width="180" height="35" class="element" rx="3"/>
    <text x="250" y="373" text-anchor="middle" class="text" fill="white" font-weight="bold">25</text>
    
    <rect x="160" y="310" width="180" height="35" class="element" rx="3"/>
    <text x="250" y="333" text-anchor="middle" class="text" fill="white" font-weight="bold">42</text>
    
    <!-- Elemento superior (tope) -->
    <rect x="160" y="270" width="180" height="35" class="top-element" rx="3"/>
    <text x="250" y="293" text-anchor="middle" class="text" fill="white" font-weight="bold">17</text>
    
    <!-- Indicador de tope -->
    <path d="M 130 287 L 150 287" class="arrow"/>
    <text x="80" y="293" class="label">tope →</text>
    
    <!-- Espacio vacío -->
    <text x="250" y="180" text-anchor="middle" class="small" fill="#95a5a6">(vacío)</text>
    
    <!-- Base de la pila -->
    <text x="250" y="450" text-anchor="middle" class="small">base</text>
  </g>
  
  <!-- Operación PUSH (Apilar) -->
  <g id="push-operation">
    <text x="550" y="90" text-anchor="middle" class="subtitle">push(99)</text>
    
    <!-- Contenedor -->
    <rect x="450" y="110" width="200" height="320" class="container" rx="5"/>
    
    <!-- Elementos existentes -->
    <rect x="460" y="390" width="180" height="35" class="element" rx="3"/>
    <text x="550" y="413" text-anchor="middle" class="text" fill="white" font-weight="bold">10</text>
    
    <rect x="460" y="350" width="180" height="35" class="element" rx="3"/>
    <text x="550" y="373" text-anchor="middle" class="text" fill="white" font-weight="bold">25</text>
    
    <rect x="460" y="310" width="180" height="35" class="element" rx="3"/>
    <text x="550" y="333" text-anchor="middle" class="text" fill="white" font-weight="bold">42</text>
    
    <rect x="460" y="270" width="180" height="35" class="element" rx="3"/>
    <text x="550" y="293" text-anchor="middle" class="text" fill="white" font-weight="bold">17</text>
    
    <!-- Nuevo elemento en el tope -->
    <rect x="460" y="230" width="180" height="35" class="top-element" rx="3"/>
    <text x="550" y="253" text-anchor="middle" class="text" fill="white" font-weight="bold">99</text>
    
    <!-- Flecha indicando inserción -->
    <path d="M 550 180 L 550 220" class="arrow"/>
    <text x="570" y="205" class="label">nuevo tope</text>
    
    <!-- Indicador de tope -->
    <path d="M 430 247 L 450 247" class="arrow"/>
    <text x="380" y="253" class="label">tope →</text>
  </g>
  
  <!-- Operación POP (Desapilar) -->
  <g id="pop-operation">
    <text x="800" y="90" text-anchor="middle" class="subtitle">pop() → 17</text>
    
    <!-- Contenedor -->
    <rect x="700" y="110" width="200" height="320" class="container" rx="5"/>
    
    <!-- Elementos restantes -->
    <rect x="710" y="390" width="180" height="35" class="element" rx="3"/>
    <text x="800" y="413" text-anchor="middle" class="text" fill="white" font-weight="bold">10</text>
    
    <rect x="710" y="350" width="180" height="35" class="element" rx="3"/>
    <text x="800" y="373" text-anchor="middle" class="text" fill="white" font-weight="bold">25</text>
    
    <!-- Nuevo tope -->
    <rect x="710" y="310" width="180" height="35" class="top-element" rx="3"/>
    <text x="800" y="333" text-anchor="middle" class="text" fill="white" font-weight="bold">42</text>
    
    <!-- Elemento eliminado (transparente) -->
    <rect x="710" y="270" width="180" height="35" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" stroke-dasharray="5,5" rx="3"/>
    <text x="800" y="293" text-anchor="middle" class="small" fill="#95a5a6">17 (extraído)</text>
    
    <!-- Flecha indicando extracción -->
    <path d="M 800 260 L 800 220" class="arrow"/>
    <text x="820" y="245" class="label">retornado</text>
    
    <!-- Indicador de nuevo tope -->
    <path d="M 680 327 L 700 327" class="arrow"/>
    <text x="630" y="333" class="label">tope →</text>
  </g>
  
  <!-- Operaciones principales -->
  <rect x="50" y="470" width="800" height="20" fill="none"/>
  <text x="100" y="485" class="operation">push(elemento): Agrega un elemento al tope</text>
  <text x="450" y="485" class="operation">pop(): Extrae y retorna el elemento del tope</text>
</svg>
