<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <!-- T√≠tulo -->
  <text x="450" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle">
    Uso de const con Punteros
  </text>
  
  <!-- Tipo 1: Puntero a dato constante -->
  <g id="tipo1">
    <rect x="50" y="60" width="800" height="180" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2" rx="8"/>
    
    <text x="450" y="90" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2E7D32">
      1. Puntero a Dato Constante: const T *ptr
    </text>
    
    <text x="70" y="115" font-family="Arial, sans-serif" font-size="13" font-weight="bold">
      El VALOR apuntado es constante, el puntero es variable
    </text>
    
    <!-- Representaci√≥n visual -->
    <g transform="translate(70, 130)">
      <rect x="0" y="0" width="100" height="60" fill="#FFCDD2" stroke="#C62828" stroke-width="3"/>
      <text x="50" y="25" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">valor</text>
      <text x="50" y="42" font-family="Arial, sans-serif" font-size="14" text-anchor="middle">42</text>
      <text x="50" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#C62828">
        üîí NO modificable
      </text>
      
      <rect x="130" y="0" width="100" height="60" fill="#C8E6C9" stroke="#2E7D32" stroke-width="2"/>
      <text x="180" y="25" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">ptr</text>
      <text x="180" y="42" font-family="monospace" font-size="11" text-anchor="middle">0x1000</text>
      <text x="180" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2E7D32">
        ‚úì reasignable
      </text>
      
      <path d="M 180 60 Q 180 85 50 65" stroke="#2E7D32" stroke-width="2" fill="none" marker-end="url(#arrow-green)"/>
    </g>
    
    <!-- C√≥digo -->
    <rect x="280" y="130" width="550" height="95" fill="white" stroke="#666" stroke-width="1" rx="3"/>
    <text x="295" y="150" font-family="monospace" font-size="12">
      const int *ptr = &amp;valor;
    </text>
    <text x="295" y="168" font-family="monospace" font-size="12">
    </text>
    <text x="295" y="186" font-family="monospace" font-size="12" fill="#C62828">
      *ptr = 100;      // ‚úó ERROR: no se puede modificar el valor
    </text>
    <text x="295" y="204" font-family="monospace" font-size="12" fill="#2E7D32">
      ptr = &amp;otro;     // ‚úì V√ÅLIDO: se puede cambiar a qu√© apunta
    </text>
    <text x="295" y="218" font-family="Arial, sans-serif" font-size="10" fill="#666" font-style="italic">
      // Uso: Par√°metros de funciones que solo leen datos
    </text>
  </g>
  
  <!-- Tipo 2: Puntero constante a dato -->
  <g id="tipo2">
    <rect x="50" y="260" width="800" height="180" fill="#E3F2FD" stroke="#1976D2" stroke-width="2" rx="8"/>
    
    <text x="450" y="290" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1976D2">
      2. Puntero Constante a Dato: T * const ptr
    </text>
    
    <text x="70" y="315" font-family="Arial, sans-serif" font-size="13" font-weight="bold">
      El PUNTERO es constante, el valor apuntado es variable
    </text>
    
    <!-- Representaci√≥n visual -->
    <g transform="translate(70, 330)">
      <rect x="0" y="0" width="100" height="60" fill="#C8E6C9" stroke="#2E7D32" stroke-width="2"/>
      <text x="50" y="25" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">valor</text>
      <text x="50" y="42" font-family="Arial, sans-serif" font-size="14" text-anchor="middle">42</text>
      <text x="50" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2E7D32">
        ‚úì modificable
      </text>
      
      <rect x="130" y="0" width="100" height="60" fill="#FFCDD2" stroke="#C62828" stroke-width="3"/>
      <text x="180" y="25" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">ptr</text>
      <text x="180" y="42" font-family="monospace" font-size="11" text-anchor="middle">0x1000</text>
      <text x="180" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#C62828">
        üîí NO reasignable
      </text>
      
      <path d="M 180 60 Q 180 85 50 65" stroke="#C62828" stroke-width="2" fill="none" marker-end="url(#arrow-red)" stroke-dasharray="5,3"/>
    </g>
    
    <!-- C√≥digo -->
    <rect x="280" y="330" width="550" height="95" fill="white" stroke="#666" stroke-width="1" rx="3"/>
    <text x="295" y="350" font-family="monospace" font-size="12">
      int * const ptr = &amp;valor;
    </text>
    <text x="295" y="368" font-family="monospace" font-size="12">
    </text>
    <text x="295" y="386" font-family="monospace" font-size="12" fill="#2E7D32">
      *ptr = 100;      // ‚úì V√ÅLIDO: se puede modificar el valor
    </text>
    <text x="295" y="404" font-family="monospace" font-size="12" fill="#C62828">
      ptr = &amp;otro;     // ‚úó ERROR: no se puede cambiar a qu√© apunta
    </text>
    <text x="295" y="418" font-family="Arial, sans-serif" font-size="10" fill="#666" font-style="italic">
      // Uso: Punteros que siempre deben apuntar al mismo lugar
    </text>
  </g>
  
  <!-- Tipo 3: Puntero constante a dato constante -->
  <g id="tipo3">
    <rect x="50" y="460" width="800" height="180" fill="#FFF3E0" stroke="#F57C00" stroke-width="2" rx="8"/>
    
    <text x="450" y="490" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#F57C00">
      3. Puntero Constante a Dato Constante: const T * const ptr
    </text>
    
    <text x="70" y="515" font-family="Arial, sans-serif" font-size="13" font-weight="bold">
      Tanto el PUNTERO como el VALOR son constantes
    </text>
    
    <!-- Representaci√≥n visual -->
    <g transform="translate(70, 530)">
      <rect x="0" y="0" width="100" height="60" fill="#FFCDD2" stroke="#C62828" stroke-width="3"/>
      <text x="50" y="25" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">valor</text>
      <text x="50" y="42" font-family="Arial, sans-serif" font-size="14" text-anchor="middle">42</text>
      <text x="50" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#C62828">
        üîí NO modificable
      </text>
      
      <rect x="130" y="0" width="100" height="60" fill="#FFCDD2" stroke="#C62828" stroke-width="3"/>
      <text x="180" y="25" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">ptr</text>
      <text x="180" y="42" font-family="monospace" font-size="11" text-anchor="middle">0x1000</text>
      <text x="180" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#C62828">
        üîí NO reasignable
      </text>
      
      <path d="M 180 60 Q 180 85 50 65" stroke="#C62828" stroke-width="2" fill="none" marker-end="url(#arrow-red)" stroke-dasharray="5,3"/>
    </g>
    
    <!-- C√≥digo -->
    <rect x="280" y="530" width="550" height="95" fill="white" stroke="#666" stroke-width="1" rx="3"/>
    <text x="295" y="550" font-family="monospace" font-size="12">
      const int * const ptr = &amp;valor;
    </text>
    <text x="295" y="568" font-family="monospace" font-size="12">
    </text>
    <text x="295" y="586" font-family="monospace" font-size="12" fill="#C62828">
      *ptr = 100;      // ‚úó ERROR: no se puede modificar el valor
    </text>
    <text x="295" y="604" font-family="monospace" font-size="12" fill="#C62828">
      ptr = &amp;otro;     // ‚úó ERROR: no se puede cambiar a qu√© apunta
    </text>
    <text x="295" y="618" font-family="Arial, sans-serif" font-size="10" fill="#666" font-style="italic">
      // Uso: M√°xima protecci√≥n, inmutabilidad total
    </text>
  </g>
  
  <!-- Regla mnemot√©cnica -->
  <rect x="50" y="655" width="800" height="35" fill="#E8EAF6" stroke="#3F51B5" stroke-width="2" rx="5"/>
  <text x="450" y="677" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" font-weight="bold">
    üí° Regla: Lee de derecha a izquierda: "const int *ptr" = "ptr es un puntero a int constante"
  </text>
  
  <!-- Definici√≥n de marcadores -->
  <defs>
    <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2E7D32"/>
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#C62828"/>
    </marker>
  </defs>
</svg>
