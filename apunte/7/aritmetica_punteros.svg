<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <!-- Título -->
  <text x="450" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle">
    Aritmética de Punteros en Arreglos
  </text>
  
  <!-- Arreglo en memoria -->
  <g id="arreglo">
    <text x="450" y="70" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle">
      int arr[] = {10, 20, 30, 40, 50};
    </text>
    
    <!-- Elementos del arreglo -->
    <g transform="translate(150, 90)">
      <!-- arr[0] -->
      <rect x="0" y="0" width="80" height="60" fill="#81C784" stroke="#2E7D32" stroke-width="2"/>
      <text x="40" y="25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">arr[0]</text>
      <text x="40" y="45" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold">10</text>
      <text x="40" y="75" font-family="monospace" font-size="10" text-anchor="middle">0x1000</text>
      
      <!-- arr[1] -->
      <rect x="90" y="0" width="80" height="60" fill="#A5D6A7" stroke="#2E7D32" stroke-width="2"/>
      <text x="130" y="25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">arr[1]</text>
      <text x="130" y="45" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold">20</text>
      <text x="130" y="75" font-family="monospace" font-size="10" text-anchor="middle">0x1004</text>
      
      <!-- arr[2] -->
      <rect x="180" y="0" width="80" height="60" fill="#C8E6C9" stroke="#2E7D32" stroke-width="2"/>
      <text x="220" y="25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">arr[2]</text>
      <text x="220" y="45" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold">30</text>
      <text x="220" y="75" font-family="monospace" font-size="10" text-anchor="middle">0x1008</text>
      
      <!-- arr[3] -->
      <rect x="270" y="0" width="80" height="60" fill="#C8E6C9" stroke="#2E7D32" stroke-width="2"/>
      <text x="310" y="25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">arr[3]</text>
      <text x="310" y="45" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold">40</text>
      <text x="310" y="75" font-family="monospace" font-size="10" text-anchor="middle">0x100C</text>
      
      <!-- arr[4] -->
      <rect x="360" y="0" width="80" height="60" fill="#C8E6C9" stroke="#2E7D32" stroke-width="2"/>
      <text x="400" y="25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">arr[4]</text>
      <text x="400" y="45" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold">50</text>
      <text x="400" y="75" font-family="monospace" font-size="10" text-anchor="middle">0x1010</text>
      
      <!-- Nota sobre tamaño -->
      <text x="220" y="95" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#666" font-style="italic">
        Cada int ocupa 4 bytes (sizeof(int) = 4)
      </text>
    </g>
  </g>
  
  <!-- Operaciones con punteros -->
  <g id="operaciones">
    <!-- ptr = arr -->
    <g transform="translate(50, 220)">
      <rect x="0" y="0" width="380" height="100" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2" rx="5"/>
      <text x="190" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle">
        int *ptr = arr;
      </text>
      
      <rect x="10" y="35" width="70" height="50" fill="#64B5F6" stroke="#1976D2" stroke-width="2"/>
      <text x="45" y="55" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">ptr</text>
      <text x="45" y="72" font-family="monospace" font-size="11" text-anchor="middle">0x1000</text>
      
      <path d="M 80 60 L 140 30" stroke="#1976D2" stroke-width="2" marker-end="url(#arrow)"/>
      <text x="200" y="55" font-family="Arial, sans-serif" font-size="12" fill="#666">
        Apunta a arr[0]
      </text>
      <text x="200" y="72" font-family="monospace" font-size="11" fill="#666">
        *ptr = 10
      </text>
    </g>
    
    <!-- ptr++ -->
    <g transform="translate(470, 220)">
      <rect x="0" y="0" width="380" height="100" fill="#FFF3E0" stroke="#F57C00" stroke-width="2" rx="5"/>
      <text x="190" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle">
        ptr++;
      </text>
      
      <rect x="10" y="35" width="70" height="50" fill="#FFB74D" stroke="#E65100" stroke-width="2"/>
      <text x="45" y="55" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">ptr</text>
      <text x="45" y="72" font-family="monospace" font-size="11" text-anchor="middle">0x1004</text>
      
      <path d="M 80 60 L 140 30" stroke="#E65100" stroke-width="2" marker-end="url(#arrow-orange)"/>
      <text x="200" y="55" font-family="Arial, sans-serif" font-size="12" fill="#666">
        Apunta a arr[1]
      </text>
      <text x="200" y="72" font-family="monospace" font-size="11" fill="#666">
        *ptr = 20
      </text>
      
      <text x="10" y="95" font-family="Arial, sans-serif" font-size="10" fill="#E65100" font-style="italic">
        Avanza sizeof(int) = 4 bytes
      </text>
    </g>
    
    <!-- ptr + 3 -->
    <g transform="translate(50, 340)">
      <rect x="0" y="0" width="380" height="100" fill="#E1BEE7" stroke="#7B1FA2" stroke-width="2" rx="5"/>
      <text x="190" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle">
        ptr + 3
      </text>
      
      <rect x="10" y="35" width="70" height="50" fill="#CE93D8" stroke="#6A1B9A" stroke-width="2"/>
      <text x="45" y="55" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">ptr+3</text>
      <text x="45" y="72" font-family="monospace" font-size="11" text-anchor="middle">0x100C</text>
      
      <path d="M 80 60 L 140 30" stroke="#6A1B9A" stroke-width="2" marker-end="url(#arrow-purple)"/>
      <text x="200" y="55" font-family="Arial, sans-serif" font-size="12" fill="#666">
        Apunta a arr[3]
      </text>
      <text x="200" y="72" font-family="monospace" font-size="11" fill="#666">
        *(ptr+3) = 40
      </text>
      
      <text x="10" y="95" font-family="Arial, sans-serif" font-size="10" fill="#7B1FA2" font-style="italic">
        Avanza 3 × sizeof(int) = 12 bytes
      </text>
    </g>
    
    <!-- Equivalencia [] -->
    <g transform="translate(470, 340)">
      <rect x="0" y="0" width="380" height="100" fill="#E0F2F1" stroke="#00695C" stroke-width="2" rx="5"/>
      <text x="190" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle">
        Equivalencia: arr[i] ≡ *(arr + i)
      </text>
      
      <rect x="10" y="35" width="360" height="55" fill="white" stroke="#666" stroke-width="1" rx="3"/>
      <text x="20" y="55" font-family="monospace" font-size="12">
        arr[3]     es equivalente a     *(arr + 3)
      </text>
      <text x="20" y="73" font-family="monospace" font-size="12">
        ptr[2]     es equivalente a     *(ptr + 2)
      </text>
      <text x="20" y="85" font-family="Arial, sans-serif" font-size="10" fill="#00695C" font-style="italic">
        // El compilador traduce [] a aritmética de punteros
      </text>
    </g>
  </g>
  
  <!-- Resumen de operaciones -->
  <g id="resumen">
    <rect x="50" y="460" width="800" height="120" fill="#F5F5F5" stroke="#666" stroke-width="2" rx="5"/>
    
    <text x="450" y="485" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle">
      Resumen de Operaciones con Punteros
    </text>
    
    <g transform="translate(70, 500)">
      <text x="0" y="0" font-family="monospace" font-size="12" font-weight="bold">
        ptr++
      </text>
      <text x="120" y="0" font-family="Arial, sans-serif" font-size="12">
        Avanza al siguiente elemento (ptr += sizeof(tipo))
      </text>
      
      <text x="0" y="22" font-family="monospace" font-size="12" font-weight="bold">
        ptr--
      </text>
      <text x="120" y="22" font-family="Arial, sans-serif" font-size="12">
        Retrocede al elemento anterior (ptr -= sizeof(tipo))
      </text>
      
      <text x="0" y="44" font-family="monospace" font-size="12" font-weight="bold">
        ptr + n
      </text>
      <text x="120" y="44" font-family="Arial, sans-serif" font-size="12">
        Avanza n elementos (ptr + n × sizeof(tipo))
      </text>
      
      <text x="0" y="66" font-family="monospace" font-size="12" font-weight="bold">
        ptr2 - ptr1
      </text>
      <text x="120" y="66" font-family="Arial, sans-serif" font-size="12">
        Número de elementos entre ptr1 y ptr2 (tipo: ptrdiff_t)
      </text>
    </g>
  </g>
  
  <!-- Definición de marcadores -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#1976D2"/>
    </marker>
    <marker id="arrow-orange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#E65100"/>
    </marker>
    <marker id="arrow-purple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#6A1B9A"/>
    </marker>
  </defs>
</svg>
