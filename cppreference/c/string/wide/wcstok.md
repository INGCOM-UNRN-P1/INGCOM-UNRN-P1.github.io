From cppreference.com

< [c](../../../c.html "c")‎ | [string](../../string.html "c/string")‎ | [wide](../wide.html "c/string/wide")

[ C](../../../c.html "c")

[Compiler support](../../compiler_support.html "c/compiler support")  
---  
[Language](../../language.html "c/language")  
[Headers](../../header.html "c/header")  
[Type support](../../types.html "c/types")  
[Program utilities](../../program.html "c/program")  
[Variadic function support](../../variadic.html "c/variadic")  
[Error handling](../../error.html "c/error")  
[Dynamic memory management](../../memory.html "c/memory")  
[Strings library](../../string.html "c/string")  
[Algorithms](../../algorithm.html "c/algorithm")  
[Numerics](../../numeric.html "c/numeric")  
[Date and time utilities](../../chrono.html "c/chrono")  
[Input/output support](../../io.html "c/io")  
[Localization support](../../locale.html "c/locale")  
[Concurrency support](../../thread.html "c/thread") (C11)  
[Technical Specifications](../../experimental.html "c/experimental")  
[Symbol index](../../index.html "c/symbol index")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/navbar_content&action=edit)

[ Strings library](../../string.html "c/string")

[Null-terminated byte strings](../byte.html "c/string/byte")  
---  
[Null-terminated multibyte strings](../multibyte.html "c/string/multibyte")  
[Null-terminated wide strings](../wide.html "c/string/wide")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/string/navbar_content&action=edit)

[ Null-terminated wide strings](../wide.html "c/string/wide")

| [Functions](../wide.html#Functions "c/string/wide")  
---  
[Character classification](../wide.html#Character_classification "c/string/wide")  
| [iswalnum](iswalnum.html "c/string/wide/iswalnum")(C95)  
---  
[iswalpha](iswalpha.html "c/string/wide/iswalpha")(C95)  
[iswlower](iswlower.html "c/string/wide/iswlower")(C95)  
[iswupper](iswupper.html "c/string/wide/iswupper")(C95)  
[iswdigit](iswdigit.html "c/string/wide/iswdigit")(C95)  
[iswxdigit](iswxdigit.html "c/string/wide/iswxdigit")(C95)` `  
[iswblank](iswblank.html "c/string/wide/iswblank")(C99)  
  
| [iswctype](iswctype.html "c/string/wide/iswctype")(C95)  
---  
[iswcntrl](iswcntrl.html "c/string/wide/iswcntrl")(C95)  
[iswgraph](iswgraph.html "c/string/wide/iswgraph")(C95)  
[iswspace](iswspace.html "c/string/wide/iswspace")(C95)  
[iswprint](iswprint.html "c/string/wide/iswprint")(C95)  
[iswpunct](iswpunct.html "c/string/wide/iswpunct")(C95)  
[wctype](wctype.html "c/string/wide/wctype")(C95)  
  
[Character manipulation](../wide.html#Character_manipulation "c/string/wide")  
| [towlower](towlower.html "c/string/wide/towlower")(C95)  
---  
[towupper](towupper.html "c/string/wide/towupper")(C95)  
  
| [wctrans](wctrans.html "c/string/wide/wctrans")(C95)  
---  
[towctrans](towctrans.html "c/string/wide/towctrans")(C95)  
  
[Conversions to numeric formats](../wide.html#Conversions_to_numeric_formats "c/string/wide")  
| [wcstolwcstoll](wcstol.html "c/string/wide/wcstol")(C95)(C99)  
---  
[wcstofwcstodwcstold](wcstof.html "c/string/wide/wcstof")(C99)(C95)(C99)  
  
| [wcstoulwcstoull](wcstoul.html "c/string/wide/wcstoul")(C95)(C99)  
---  
[wcstoimaxwcstoumax](wcstoimax.html "c/string/wide/wcstoimax")(C99)(C99)` `  
  
  
  
[String manipulation](../wide.html#String_manipulation "c/string/wide")  
| [wcscpywcscpy_s](wcscpy.html "c/string/wide/wcscpy")(C95)(C11)  
---  
[wcsncpywcsncpy_s](wcsncpy.html "c/string/wide/wcsncpy")(C95)(C11)  
[wcsxfrm](wcsxfrm.html "c/string/wide/wcsxfrm")(C95)  
  
| [wcscatwcscat_s](wcscat.html "c/string/wide/wcscat")(C95)(C11)  
---  
[wcsncatwcsncat_s](wcsncat.html "c/string/wide/wcsncat")(C95)(C11)  
  
  
  
| [String examination](../wide.html#String_examination "c/string/wide")  
---  
| [wcslenwcsnlen_s](wcslen.html "c/string/wide/wcslen")(C95)(C11)  
---  
[wcsstr](wcsstr.html "c/string/wide/wcsstr")(C95)  
[wcscmp](wcscmp.html "c/string/wide/wcscmp")(C95)  
[wcsncmp](wcsncmp.html "c/string/wide/wcsncmp")(C95)  
[wcscoll](wcscoll.html "c/string/wide/wcscoll")(C95)  
[wcschr](wcschr.html "c/string/wide/wcschr")(C95)  
  
| [wcsrchr](wcsrchr.html "c/string/wide/wcsrchr")(C95)  
---  
[wcspbrk](wcspbrk.html "c/string/wide/wcspbrk")(C95)  
[wcsspn](wcsspn.html "c/string/wide/wcsspn")(C95)  
[wcscspn](wcscspn.html "c/string/wide/wcscspn")(C95)  
**wcstok wcstok_s**(C95)(C11)  
  
  
  
[Array manipulation](../wide.html#Wide_character_array_manipulation "c/string/wide")  
| [wmemcpywmemcpy_s](wmemcpy.html "c/string/wide/wmemcpy")(C95)(C11)  
---  
[wmemmovewmemmove_s](wmemmove.html "c/string/wide/wmemmove")(C95)(C11)` `  
  
| [wmemcmp](wmemcmp.html "c/string/wide/wmemcmp")(C95)  
---  
[wmemchr](wmemchr.html "c/string/wide/wmemchr")(C95)  
[wmemset](wmemset.html "c/string/wide/wmemset")(C95)  
  
  
  
[Types](../wide.html#Types "c/string/wide")  
[wchar_t  
wint_t](../wide.html#Types "c/string/wide")(C95)  
[wctrans_t  
wctype_t](../wide.html#Types "c/string/wide")(C95)(C95)  
[Macros](../wide.html#Macros "c/string/wide")  
[WCHAR_MIN  
WCHAR_MAX](../wide.html#Macros "c/string/wide")(C95)(C95)  
[WEOF](../wide.html#Macros "c/string/wide")(C95)  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/string/wide/navbar_content&action=edit)

Defined in header `[`<wchar.h>`](../../header/wchar.html "c/header/wchar")` |  |   
---|---|---  
| (1) |   
wchar_t* wcstok( wchar_t* str, const wchar_t* delim, wchar_t** ptr ); |  |  (since C95)   
(until C99)  
wchar_t* wcstok( wchar_t* restrict str, const wchar_t* restrict delim,  
wchar_t** restrict ptr ); |  |  (since C99)  
wchar_t* wcstok_s( wchar_t* restrict str, rsize_t* restrict strmax,  
const wchar_t* restrict delim, wchar_t** restrict ptr); |  (2)  |  (since C11)  
| |   
  
1) Finds the next token in a null-terminated wide string pointed to by str. The separator characters are identified by null-terminated wide string pointed to by delim.

This function is designed to be called multiples times to obtain successive tokens from the same string.

    

  * If str != [NULL](../../types/NULL.html), the call is treated as the first call to `wcstok` for this particular wide string. The function searches for the first wide character which is _not_ contained in delim. 



    

  * If no such wide character was found, there are no tokens in str at all, and the function returns a null pointer. 
  * If such wide character was found, it is the _beginning of the token_. The function then searches from that point on for the first wide character that _is_ contained in delim. 



    

  * If no such wide character was found, str has only one token, and future calls to `wcstok` will return a null pointer 
  * If such wide character was found, it is _replaced_ by the null wide character L'\0' and the parser state (typically a pointer to the following wide character) is stored in the user-provided location *ptr. 



  * The function then returns the pointer to the beginning of the token 



  * If str == [NULL](../../types/NULL.html), the call is treated as a subsequent call to `wcstok`: the function continues from where it left in the previous invocation with the same *ptr. The behavior is the same as if the pointer to the wide character that follows the last detected token is passed as str. 



2) Same as (1), except that on every step, writes the number of characters left to see in str into *strmax. Repeat calls (with null str) must pass both strmax and ptr with the values stored by the previous call. Also, the following errors are detected at runtime and call the currently installed [constraint handler](../../error/set_constraint_handler_s.html "c/error/set constraint handler s") function, without storing anything in the object pointed to by ptr

    

  * strmax, delim, or ptr is a null pointer 
  * on a non-initial call (with null str), *ptr is a null pointer 
  * on the first call, *strmax is zero or greater than RSIZE_MAX / sizeof(wchar_t)
  * search for the end of a token reaches the end of the source string (as measured by the initial value of *strmax) without encountering the null terminator 


    As all bounds-checked functions, `wcstok_s` is only guaranteed to be available if __STDC_LIB_EXT1__ is defined by the implementation and if the user defines __STDC_WANT_LIB_EXT1__ to the integer constant 1 before including [`<wchar.h>`](../../header/wchar.html "c/header/wchar").

## Contents

  * [1 Parameters](wcstok.html#Parameters)
  * [2 Return value](wcstok.html#Return_value)
  * [3 Note](wcstok.html#Note)
  * [4 Example](wcstok.html#Example)
  * [5 References](wcstok.html#References)
  * [6 See also](wcstok.html#See_also)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcstok&action=edit&section=1 "Edit section: Parameters")] Parameters

str  |  \-  |  pointer to the null-terminated wide string to tokenize   
---|---|---  
delim  |  \-  |  pointer to the null-terminated wide string identifying delimiters   
ptr  |  \-  |  pointer to an object of type wchar_t*, which is used by both `wcstok` and `wcstok_s` to store the internal state of the parser   
strmax  |  \-  |  pointer to an object which initially holds the size of str: wcstok_s stores the number of characters that remain to be examined   
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcstok&action=edit&section=2 "Edit section: Return value")] Return value

Returns pointer to the beginning of the next token or null pointer if there are no more tokens. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcstok&action=edit&section=3 "Edit section: Note")] Note

This function is destructive: it writes the L'\0' characters in the elements of the string str. In particular, a wide string literal cannot be used as the first argument of `wcstok`. 

Unlike [strtok](../byte/strtok.html "c/string/byte/strtok"), `wcstok` does not update static storage: it stores the parser state in the user-provided location. 

Unlike most other tokenizers, the delimiters in `wcstok` can be different for each subsequent token, and can even depend on the contents of the previous tokens. 

The implementation of wcstok_s in the [Windows CRT](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/strtok-s-strtok-s-l-wcstok-s-wcstok-s-l-mbstok-s-mbstok-s-l) is incompatible with the C standard, it is merely an alias for wcstok. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcstok&action=edit&section=4 "Edit section: Example")] Example

Run this code
    
    
    #include <stdio.h>
    #include <wchar.h>
     
    int main(void)
    {
        wchar_t input[] = L"A bird came down the walk";
        [printf](../../io/fprintf.html)("Parsing the input string '%ls'\n", input);
        wchar_t* buffer;
        wchar_t* token = wcstok(input, L" ", &buffer);
        while (token)
        {
            [printf](../../io/fprintf.html)("%ls\n", token);
            token = wcstok([NULL](../../types/NULL.html), L" ", &buffer);
        }
     
        [printf](../../io/fprintf.html)("Contents of the input string now: '");
        for ([size_t](../../types/size_t.html) n = 0; n < sizeof input / sizeof *input; ++n)
            input[n] ? [printf](../../io/fprintf.html)("%lc", input[n]) : [printf](../../io/fprintf.html)("\\0");
        [puts](../../io/puts.html)("'");
    }

Output: 
    
    
    Parsing the input string 'A bird came down the walk'
    A
    bird
    came
    down
    the
    walk
    Contents of the input string now: 'A\0bird\0came\0down\0the\0walk\0'

### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcstok&action=edit&section=5 "Edit section: References")] References

  * C11 standard (ISO/IEC 9899:2011): 



    

  * 7.29.4.5.7 The wcstok function (p: 437-438) 



    

  * K.3.9.2.3.1 The wcstok_s function (p: 645-646) 



  * C99 standard (ISO/IEC 9899:1999): 



    

  * 7.24.4.5.7 The wcstok function (p: 383-384) 



### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcstok&action=edit&section=6 "Edit section: See also")] See also

[ strtokstrtok_s](../byte/strtok.html "c/string/byte/strtok")(C11) |  finds the next token in a byte string   
(function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/string/byte/dsc_strtok&action=edit)  
---|---  
[C++ documentation](../../../cpp/string/wide/wcstok.html "cpp/string/wide/wcstok") for wcstok  
  
Retrieved from "[https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcstok&oldid=168847](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcstok&oldid=168847)" 
